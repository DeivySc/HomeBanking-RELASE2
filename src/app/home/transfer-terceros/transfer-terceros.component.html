<div class="w-full mt-4">
  <div class="monsetb text-[#3D3C3C] text-[1rem] lg:text-[1.5rem] flex justify-center">Transferencia a cuentas de terceros</div>
  <div class="flex justify-center">
    <mat-stepper labelPosition="bottom" linear #stepper class="w-full lg:w-[49.75rem]">
      <mat-step [stepControl]="groupForm1" [editable]="false" state="done">
        <form [formGroup]="groupForm1" novalidate class="pb-4 lg:pb-0">
          <ng-template matStepLabel class="monset">Paso 1</ng-template>
          <div class="lg:flex items-center">
            <div class="w-full md:w-1/2 lg:px-3 mb-6 md:mb-0">
              <label class="block text-[#8F8F8F] monsetb text-[1rem] mb-2">
                Cuenta de origen
              </label>
              <mat-form-field appearance="outline" class="w-full monset">
                <mat-select [(ngModel)]="selector1" formControlName="selectorigin" class="appearance-none block text-gray-700 leading-tight text-[0.75rem]" placeholder="Elige tu cuenta de origen">
                  <mat-option class="h-auto" *ngFor="let select of selectdata" [value]="select.tipo + ' ' + select.cuenta">
                    <div class="my-2">
                      <div class="mt-px -mb-4 monset">Cuenta – {{select.tipo}} </div>
                      <div class="-mb-4 monset">{{select.cuenta}}</div>
                    </div>
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="selectorigin.hasError('required')">
                  La cuenta de origen es requerida.
                </mat-error>
              </mat-form-field>
            </div>

            <div class="w-full -mt-6 lg:mt-0 md:w-1/2 lg:px-3 mb-6 md:mb-0">
              <label class="block text-[#8F8F8F] monsetb text-[1rem] mb-2">
                Cuenta de destino
              </label>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Ingresa la cuenta de destino&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                <input matInput formControlName="selectordest" maxlength="18" autocomplete="off" (keypress)="onKeyPress($event)">
                <mat-error *ngIf="selectordest.hasError('required')">
                  La cuenta de destino es requerida.
                </mat-error>
              </mat-form-field>
              <div [@childAnimation]="isOpen ? 'open' : 'closed'" *ngIf="selectordest.value.length === 18">
                <div class="text-[1rem] monsetb">JOSÉ ARESTEGUI VÁSQUEZ</div>
                <div class="text-[0.75rem] monset">Ahorros dólares</div>
              </div>
            </div>
          </div>

          <div class="lg:flex mt-5">
            <!-- lg:mt-10 -->
            <div class="w-full md:w-1/2 -mt-6 lg:mt-0 lg:px-3 mb-6 md:mb-0">
              <label class="block text-[#8F8F8F] monsetb text-[1rem] mb-2.5">
                Selecciona la moneda
              </label>
              <mat-radio-group class="flex -mx-2" [(ngModel)]="selectRadioButton" formControlName="selectRadio">
                <mat-radio-button [ngClass]="{btnMoney: sol === true}" (click)="soles()" checked="true" value="PEN" style="max-width: 12rem;" class="w-full rounded-lg shadow-lg py-4 text-center px-5 mx-2 monsetb text-a1">
                  Soles
                </mat-radio-button>
                <mat-radio-button [ngClass]="{btnMoney: dol === true}" (click)="dolar()" value="USD" style="max-width: 12rem;"
                                  class="bg-white w-full rounded-lg shadow-lg py-4 text-center px-5 mx-2 monsetb text-a1">
                  Dólares
                </mat-radio-button>
              </mat-radio-group>
              <!--              <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="grid-first-name" type="text" placeholder="Jane">-->
            </div>

            <div class="w-full md:w-1/2 lg:px-3 lg:mb-6 md:mb-0">
              <label class="block text-[#8F8F8F] monsetb text-[1rem] mb-2">
                Monto a transferir
              </label>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Ingrese el monto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                <input matInput formControlName="montoT" [imask]="currencyMask" [unmask]="true" autocomplete="off" (keypress)="onKeyPressMonto($event)">
                <span class="text-[1rem]" *ngIf="selectRadioButton == 'USD'" matPrefix>$</span>
                <span class="text-[1rem]" *ngIf="selectRadioButton == 'PEN'" matPrefix>S/</span>
                <a matPrefix style="color: transparent">--</a>
                <mat-error *ngIf="montoT.hasError('required')">
                  El monto a transferir debería ser mayor o igual a uno.
                </mat-error>
                <mat-error *ngIf="montoT.hasError('min')">
                  El monto a transferir debería ser mayor o igual a uno.
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="flex mx-auto h-[2.75rem] px-3 lg:px-6 monset space-x-2 lg:space-x-4 mt-4 lg:py-2 warning w-full lg:w-[32.125rem]">
            <div><mat-icon class="text-[#F9B208] my-2 lg:my-0 lg:mr-3">warning</mat-icon></div>
            <div class="py-1 text-[#1A3184] text-[0.75rem]">Recuerda que esta operación será afectada al tipo de cambio</div>
          </div>
        </form>
        <div class="flex justify-center w-full mt-12">
          <button (click)="cambio = montoT.value * 4" class="btn first bg-[#00AF91] text-white w-[20.225rem] h-[53px] lg:h-[3.75rem] monsetb" [disabled]="groupForm1.invalid" matStepperNext mat-button>Siguiente</button>
        </div>
      </mat-step>
      <mat-step [stepControl]="groupForm2" [editable]="false" state="done">
        <form class="mt-2" [formGroup]="groupForm2" class="mt-2 lg:flex lg:flex-col lg:items-center pb-4 lg:pb-0">
          <ng-template matStepLabel>Paso 2</ng-template>
          <div class="w-full py-4 monsetb text-sm lg:text-base" style="text-align: center">Revisa y confirma los detalles de la transferencia:</div>
          <div class="lg:flex lg:p-2 lg:space-x-2">
            <!-- justify-between -->
            <div class="card px-4 mb-2 h-[4.688rem] w-full lg:w-[21.125rem] flex flex-col justify-center">
              <p class="montse-responsive lg:font-bold text-[0.688rem] lg:text-base">Cuenta de origen</p>
              <div class="monset text-xs lg:text-sm">{{selector1}}</div>
            </div>

            <div class="lg:block flex my-auto hidden">
              <mat-icon class="text-[2.029rem] text-[#00AF91] my-auto">arrow_forward_ios</mat-icon>
            </div>

            <div class="card px-4 mb-2 h-[4.688rem] w-full lg:w-[21.125rem] flex flex-col justify-center">
              <div class="montse-responsive lg:font-bold text-[0.688rem] lg:text-base">Cuenta de destino</div>
              <div class="monset text-xs lg:text-sm">Ahorros Dólares 10203040506071</div>
              <div class="monset text-xs lg:text-sm">Titular de la cuenta: José Aréstegui</div>
            </div>
          </div>

          <div class="lg:flex items-center mt-4 lg:mt-5 space-x-10 lg:px-2">
            <!-- justify-between lg:space-x-2 -->
            <div class="flex justify-start h-[85px]">
              <div class="warning px-4 w-full lg:w-[21.125rem] flex flex-col justify-center">
                <div class="text-[0.688rem] lg:text-[1rem] text-[#1A3184] montse-responsive lg:font-bold">Información de la transferencia</div>
                <div class="flex justify-between mt-2">
                  <div  class="flex flex-col justify-center">
                    <div class="text-xs monset">Tipo de cambio</div>
                    <div class="text-[0.688rem] lg:text-base monsetb" *ngIf="selectRadioButton === 'USD'">S/ 4.00</div>
                    <div class="text-[0.688rem] text-left lg:text-base monsetb" *ngIf="selectRadioButton === 'PEN'">S/ 4.00</div>
                  </div>
                  <div class="flex flex-col justify-center">
                    <div class="text-xs monset">Monto al cambio</div>
                    <div class="text-[0.688rem] text-left lg:text-base monsetb" *ngIf="selectRadioButton === 'PEN'">$ {{montoT.value / 4 | number: '0.2'}}</div>
                    <div class="text-[0.688rem] lg:text-base monsetb" *ngIf="selectRadioButton === 'USD'">S/ {{montoT.value * 4 | number: '0.2'}}</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="lg:flex flex-col justify-start hidden w-full lg:w-[21.125rem]">
              <!-- h-[4.688rem] -->
              <label class="mb-2 text-[0.688rem] montse-responsive lg:font-bold lg:text-base text-[#050505]">
                Descripción de la operación (opcional):
              </label>
              <mat-form-field appearance="outline" class="w-full flex justify-center">
                <mat-label>Descripción de la operación&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                <textarea placeholder="Ingrese la descripción de la operación" matInput></textarea>
              </mat-form-field>
            </div>
          </div>

          <div class="w-full lg:w-[717px] px-4 h-[57px] bg-[#E8F5FF] radius-12 mt-4 flex items-center justify-between">
            <div class="monsetb text-[0.688rem] lg:text-base text-[#1A3184]">Monto a transferir</div>
            <div class="monsetb text-[1rem] lg:text-2xl"><a *ngIf="selectRadioButton == 'PEN'">S/</a><a *ngIf="selectRadioButton == 'USD'">$</a> {{montoT.value | number: '0.2'}}</div>
          </div>

          <div class="w-full lg:hidden mt-3 lg:mt-2">
            <label class="mb-2 text-[0.688rem] montse-responsive lg:font-bold lg:text-base text-[#050505]">
              Descripción de la operación (opcional):
            </label>
            <mat-form-field appearance="outline" class="w-full">
              <mat-label>Descripción de la operación&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
              <textarea placeholder="Ingrese la descripción de la operación" matInput></textarea>
            </mat-form-field>
          </div>

          <div class="lg:mt-4">
            <!-- <div style="text-align: center"> flex justify-center mt-10 lg:-->
              <div class="text-center monset font-bold lg:font-medium text-[11px] lg:text-sm">Para confirmar la operación, ingresa el Token Digital</div>
              <div class="w-full flex justify-center mt-2">
                <mat-form-field appearance="outline" class="w-full monset text-sm lg:w-[17.938rem]">
                  <mat-label>Ingresa el Token Digital&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                  <input formControlName="token" [(ngModel)]="inputtoken" matInput maxlength="6" type="password" style="text-align: center !important;">
                  <mat-icon matSuffix *ngIf="inputtoken == 123456" class="text-[#00AF91] -ml-6">check_circle</mat-icon>
                </mat-form-field>
              </div>
            <!-- </div> -->
          </div>

          <div class="flex mt-1 lg:mt-2 justify-center">
            <div class="text-center">
              <div (click)="openDialog()" class="w-[2.625rem] cursor-pointer h-[2.438rem] mx-auto bg-[#E8F5FF] radius-12">
                <mat-icon [ngClass]="{'icon-frecuentes': frecuente}" class="text-[1.25rem] my-2 text-[#7B7B7B]">stars</mat-icon>
              </div>
              <p class="monsetb text-[0.688rem] lg:text-[1rem] text-[#8F8F8F]">Agregar a operaciones frecuentes</p>
            </div>
          </div>
        </form>
        <div class="flex justify-center space-x-4 w-full mt-8">
          <button class="btn second bg-[#00AF91] text-white w-[9.813rem] h-[53px] lg:h-[3.75rem]" (click)="redirectTransfer1()" matStepperPrevious mat-button>Cancelar</button>
          <button [disabled]="groupForm2.invalid" class="btn second2 bg-[#00AF91] text-white w-[9.813rem] h-[53px] lg:h-[3.75rem]" matStepperNext mat-button>Confirmar</button>
        </div>
      </mat-step>
      <mat-step [editable]="false" state="done">
        <form class="lg:flex lg:flex-col lg:items-center pb-4 lg:pb-0">
          <ng-template matStepLabel>Paso 3</ng-template>
          <div class="w-full py-4 monset" style="text-align: center">
            <img class="mx-auto mb-2" src="assets/images/checked.svg">
            <p class="monsetb text-sm lg:text-base text-[#3D3C3C]">La transferencia se realizó con éxito</p>
          </div>
          <div>
            <div class="card px-4 lg:hidden h-[4.688rem] w-full flex flex-col justify-center">
              <p class="monsetb text-[0.688rem]">Número de operación</p>
              <div class="monset">001</div>
            </div>

            <div class="lg:space-x-2 lg:flex">
              <div class="card mt-2 px-4 h-[4.688rem] w-full lg:w-[21.125rem] flex flex-col justify-center">
                <p class="montse-responsive lg:font-bold text-[0.688rem] lg:text-base">Cuenta de origen</p>
                <div class="monset text-xs lg:text-sm">{{selector1}}</div>
              </div>

              <div class="lg:block flex my-auto hidden">
                <mat-icon class="text-[2.029rem] text-[#00AF91] my-auto">arrow_forward_ios</mat-icon>
              </div>

              <div class="card mt-2 px-4 h-[4.688rem] w-full lg:w-[21.125rem] flex flex-col justify-center">
                <div class="montse-responsive lg:font-bold text-[0.688rem] lg:text-base">Cuenta de destino</div>
                <div class="monset text-xs lg:text-sm">Ahorros Dólares 1020520221452214522</div>
                <div class="monset text-xs lg:text-sm">Titular de la cuenta: José Aréstegui</div>
              </div>
            </div>

            <div class="lg:space-x-10 mt-6 lg:flex hidden">
              <div class="card px-4 h-[4.688rem] w-[21.125rem] flex flex-col justify-center">
                <p class="monset font-bold text-base">Número de operación</p>
                <div class="monsetb">001</div>
              </div>

              <div class="hidden card px-4 h-[4.688rem] w-full lg:w-[21.125rem] lg:flex flex-col justify-center">
                <div class="monset font-bold text-[0.688rem] lg:text-base text-[#1A3184] lg:text-[#050505]">Monto total transferido</div>
                <div class="monsetb text-base lg:text-2xl mt-1"><a *ngIf="selectRadioButton == 'PEN'">S/</a><a *ngIf="selectRadioButton == 'USD'">$</a> {{montoT.value | number: '0.2'}}</div>
              </div>
            </div>

            <div class="lg:space-x-10 mt-4 lg:flex">
              <div class="radius-12 shadow-card lg:mt-2 bg-[#ECFEFB] lg:bg-white px-4 h-[4.688rem] w-full lg:w-[21.125rem] flex flex-col justify-center">
                <p class="montse-responsive lg:font-bold text-[0.688rem] lg:text-base">Información de la transferencia</p>
                <div class="flex justify-between -mt-2">
                  <div class="flex flex-col justify-center">
                    <div class="text-xs monset">Tipo de cambio</div>
                    <div class="text-[0.688rem] lg:text-base monsetb" *ngIf="selectRadioButton === 'USD'">S/ 4.00</div>
                    <div class="text-[0.688rem] text-left lg:text-base monsetb" *ngIf="selectRadioButton === 'PEN'">S/ 4.00</div>
                  </div>
                  <div class="flex flex-col justify-center">
                    <div class="text-xs monset">Monto al cambio</div>
                    <div class="text-[0.688rem] text-left lg:text-base monsetb" *ngIf="selectRadioButton === 'PEN'">$ {{montoT.value / 4 | number: '0.2'}}</div>
                    <div class="text-[0.688rem] lg:text-base monsetb" *ngIf="selectRadioButton === 'USD'">S/ {{montoT.value * 4 | number: '0.2'}}</div>
                  </div>
                </div>
              </div>

              <div class="w-full lg:hidden p-4 bg-[#E8F5FF] radius-12 mt-4 flex items-center justify-between">
                <div class="monsetb text-[0.688rem] text-[#1A3184]">Monto total transferido</div>
                <div class="monsetb text-base"><a *ngIf="selectRadioButton == 'PEN'">S/</a><a *ngIf="selectRadioButton == 'USD'">$</a> {{montoT.value | number: '0.2'}}</div>
              </div>
                <!--              <div class="flex rounded-xl text-[#1A3184] bg-[#E8F5FF] justify-between px-2 mt-2 lg:px-4 py-4 h-[4.688rem] w-full lg:w-[21.125rem]">-->
                <!--                <div class="py-4- mr-6"><mat-icon>mail</mat-icon></div>-->
                <!--                <div class="text-[0.65rem] lg:text-[0.75rem]">La constancia ha sido remitida a tu correo:-->
                <!--                  ach**********@cajametropolitana.com.pe-->
                <!--                </div>-->
                <!--              </div>-->

              <div class="hidden lg:flex rounded-xl text-[#1A3184] bg-[#ECFEFB] items-center justify-between px-2 mt-4 lg:mt-2 lg:px-4 h-[4.688rem] w-full lg:w-[21.125rem]">
                <div class="mr-2 lg:mr-6"><mat-icon>mail</mat-icon></div>
                <div class="text-[0.65rem] lg:text-[0.75rem]">La constancia ha sido remitida a tu correo:
                  ach**********@cajametropolitana.com.pe
                </div>
              </div>

              <div class="lg:hidden flex rounded-xl text-[#F34E4E] bg-[#ECFEFB] items-center justify-between px-2 mt-4 lg:mt-2 lg:px-4 h-[4.688rem] w-full lg:w-[21.125rem]">
                <div class="mr-2 lg:mr-6"><mat-icon>warning</mat-icon></div>
                <div class="text-[0.65rem] lg:text-xs">No se pudo enviar la constancia de tu operación debido a que no cuentas con
                  un correo registrado. Acércate a la agencia
                  más cercana para actualizar tus datos.
                </div>
              </div>
            </div>
          </div>

          <div class="flex mt-6 lg:mt-10 justify-center">
            <button class="py-2 w-full lg:w-[21.125rem] px-4 rounded inline-flex items-center" style="box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);border-radius: 12px;">
              <mat-icon class="fill-current text-[#00AF91] w-4 h-4 mr-5 lg:mr-12">download</mat-icon>
              <span class="monsetb text-[#8F8F8F] text-xs">Descargar transferencia</span>
            </button>
          </div>

          <div class="">
            <!-- lg:flex lg:justify-center -->
            <div class="mt-4 text-sm font-medium monset w-full lg:w-[21.125rem]">
              <label class="mb-2 px-2 text-[0.688rem] lg:text-xs text-[#8F8F8F] monsetb">
                Enviar constancia a otro correo
              </label>
              <div class="flex mt-2 content-center justify-items-center w-full">
                <mat-form-field appearance="outline" class="w-full lg:w-[80%]  px-2 monset">
                  <mat-label class="monset text-xs">Correo destino&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                  <input  matInput type="email" [formControl]="emailFormControl" autocomplete="false" placeholder="Correo destino">
                  <mat-error *ngIf="email.hasError('required')">
                    Este campo es requerido
                  </mat-error>
                  <mat-error *ngIf="email.hasError('email')">
                    Ingresa un correo electrónico válido
                  </mat-error>
                </mat-form-field>
                <button style="height: 3.1rem;" class="text-base bg-[#00AF91] px-2 text-white shadow-lg mt-1 font-semibold py-2 px-4 rounded">Enviar</button>
              </div>
            </div>
          </div>
        </form>
        <div class="flex justify-center space-x-4 w-full mt-8">
          <button style="text-align: center" class="btn second w-[9.813rem] text-white bg-[#00AF91] lg:w-[9.813rem] text-[0.844rem] h-[53px] lg:h-[3.75rem] px-4" (click)="redirectTransfer1()" mat-button>
            <span style="margin-left: -8px;">Nueva transferencia</span>
          </button>
          <button class="btn second2 bg-[#00AF91] text-white w-[9.813rem] h-[53px] lg:h-[3.75rem]" (click)="redirectConfig()" mat-button>Ir al inicio</button>
        </div>
      </mat-step>

      <ng-template matStepperIcon="done" let-index="index">
        {{index + 1}}
      </ng-template>
        <!--      <ng-template matStepperIcon="edit">2</ng-template>-->
    </mat-stepper>
  </div>
</div>
